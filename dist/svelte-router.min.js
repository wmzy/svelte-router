/*!
  * svelte-router v0.1.0
  * (c) 2019 Evan You
  * @license MIT
  */
var t,e;t=this,e=function(t,e,n,r){"use strict";var o=Object.create(null),i=Object.create(null),a=Object.create(null);function c(t){var e,r=t.$$slots.default,o=n.create_slot(r,t,null);return{c:function(){o&&o.c()},l:function(t){o&&o.l(t)},m:function(t,n){o&&o.m(t,n),e=!0},p:function(t,e){o&&o.p&&t.$$scope&&o.p(n.get_slot_changes(r,e,t),n.get_slot_context(r,e,null))},i:function(t){e||(o&&o.i&&o.i(t),e=!0)},o:function(t){o&&o.o&&o.o(t),e=!1},d:function(t){o&&o.d(t)}}}function u(t,n,c){var u=n.router;e.onMount(function(){if(!u.nextTick)return u.nextTick=function(t){return e.tick().then(t)},c("router",u),function(){return delete u.nextTick}});var s,p=u.currentRoute,f=r.writable(u),h=r.writable(p),l=r.writable(p.matched);e.setContext(o,f),e.setContext(i,h),e.setContext(a,l),e.onDestroy(function(){return s()});var d=n.$$slots;void 0===d&&(d={});var y=n.$$scope;return t.$set=function(t){"router"in t&&c("router",u=t.router),"$$scope"in t&&c("$$scope",y=t.$$scope)},t.$$.update=function(t){if(void 0===t&&(t={removeListener:1,router:1}),t.removeListener||t.router){s&&s(),f.set(u);var e=u.currentRoute;h.set(e),l.set(e.matched),c("removeListener",s=u.listen(function(t){h.set(t),l.set(t.matched)}))}},{router:u,$$slots:d,$$scope:y}}var s=function(t){function e(e){t.call(this),n.init(this,e,u,c,n.safe_not_equal,["router"])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n.SvelteComponent);function p(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function f(t,e){for(var n in e)t[n]=e[n];return t}function h(t){var e,r,o=[t.propsToPass],i=t.component;function a(t){for(var e={},r=0;r<o.length;r+=1)e=n.assign(e,o[r]);return{props:e}}if(i)var c=new i(a());return{c:function(){c&&c.$$.fragment.c(),e=n.empty()},m:function(t,o){c&&n.mount_component(c,t,o),n.insert(t,e,o),r=!0},p:function(t,r){var u=t.propsToPass?n.get_spread_update(o,[r.propsToPass]):{};if(i!==(i=r.component)){if(c){n.group_outros();var s=c;n.on_outro(function(){s.$destroy()}),s.$$.fragment.o(1),n.check_outros()}i?((c=new i(a())).$$.fragment.c(),c.$$.fragment.i(1),n.mount_component(c,e.parentNode,e)):c=null}else i&&c.$set(u)},i:function(t){r||(c&&c.$$.fragment.i(t),r=!0)},o:function(t){c&&c.$$.fragment.o(t),r=!1},d:function(t){t&&n.detach(e),c&&c.$destroy(t)}}}function l(t,o,c){var u,s,p=o.name;void 0===p&&(p="default");var h=e.getContext(i);n.subscribe(t,h,function(t){c("$routeStore",s=t)});var l=e.getContext(a);e.setContext(a,r.derived(l,function(t){t[0];return t.slice(1)}));var d,y,v=r.derived(l,function(t){return t[0]});return n.subscribe(t,v,function(t){c("$matched",u=t)}),t.$set=function(t){"name"in t&&c("name",p=t.name)},t.$$.update=function(t){if(void 0===t&&(t={$matched:1,name:1,$routeStore:1,propsToPass:1,component:1}),(t.$matched||t.name||t.$routeStore||t.propsToPass||t.component)&&u&&(c("component",y=u.components[p]),c("propsToPass",d=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0}}(s,u.props&&u.props[p])),d)){c("propsToPass",d=data.props=f({},d));var e=data.attrs=data.attrs||{};for(var n in d)y.props&&n in y.props||(e[n]=d[n],delete d[n])}},{name:p,routeStore:h,matched:v,propsToPass:d,component:y}}var d=function(t){function e(e){t.call(this),n.init(this,e,l,h,n.safe_not_equal,["name"])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n.SvelteComponent);function y(t){var e,r,o,i=t.$$slots.default,a=n.create_slot(i,t,null);return{c:function(){e=n.element("a"),a&&a.c(),o=n.listen(e,"click",t.handleClick)},l:function(t){a&&a.l(a_nodes)},m:function(t,o){n.insert(t,e,o),a&&a.m(e,null),r=!0},p:function(t,e){a&&a.p&&t.$$scope&&a.p(n.get_slot_changes(i,e,t),n.get_slot_context(i,e,null))},i:function(t){r||(a&&a.i&&a.i(t),r=!0)},o:function(t){a&&a.o&&a.o(t),r=!1},d:function(t){t&&n.detach(e),a&&a.d(t),o()}}}function v(t,r,i){var a,c=r.to,u=e.getContext(o);n.subscribe(t,u,function(t){i("$router",a=t)});var s=r.$$slots;void 0===s&&(s={});var p=r.$$scope;return t.$set=function(t){"to"in t&&i("to",c=t.to),"$$scope"in t&&i("$$scope",p=t.$$scope)},{to:c,router:u,handleClick:function(t){var e=a.resolve(c).location;a.push(e)},$$slots:s,$$scope:p}}var m=function(t){function e(e){t.call(this),n.init(this,e,v,y,n.safe_not_equal,["to"])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n.SvelteComponent),g=/[!'()*]/g,b=function(t){return"%"+t.charCodeAt(0).toString(16)},w=/%2C/g,x=function(t){return encodeURIComponent(t).replace(g,b).replace(w,",")},$=decodeURIComponent;function _(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var n=t.replace(/\+/g," ").split("="),r=$(n.shift()),o=n.length>0?$(n.join("=")):null;void 0===e[r]?e[r]=o:Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]}),e):e}function O(t){var e=t?Object.keys(t).map(function(e){var n=t[e];if(void 0===n)return"";if(null===n)return x(e);if(Array.isArray(n)){var r=[];return n.forEach(function(t){void 0!==t&&(null===t?r.push(x(e)):r.push(x(e)+"="+x(t)))}),r.join("&")}return x(e)+"="+x(n)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var R=/\/?$/;function k(t,e,n,r){var o=r&&r.options.stringifyQuery,i=e.query||{};try{i=C(i)}catch(t){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:i,params:e.params||{},fullPath:T(e,o),matched:t?E(t):[]};return n&&(a.redirectedFrom=T(n,o)),Object.freeze(a)}function C(t){if(Array.isArray(t))return t.map(C);if(t&&"object"==typeof t){var e={};for(var n in t)e[n]=C(t[n]);return e}return t}var j=k(null,{path:"/"});function E(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function T(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var o=t.hash;return void 0===o&&(o=""),(n||"/")+(e||O)(r)+o}function S(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(n){var r=t[n],o=e[n];return"object"==typeof r&&"object"==typeof o?S(r,o):String(r)===String(o)})}function A(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var o=e.split("/");n&&o[o.length-1]||o.pop();for(var i=t.replace(/^\//,"").split("/"),a=0;a<i.length;a++){var c=i[a];".."===c?o.pop():"."!==c&&o.push(c)}return""!==o[0]&&o.unshift(""),o.join("/")}function P(t){return t.replace(/\/\//g,"/")}var q=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},L=V,U=B,M=function(t,e){return N(B(t,e))},H=N,I=Y,z=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function B(t,e){for(var n,r=[],o=0,i=0,a="",c=e&&e.delimiter||"/";null!=(n=z.exec(t));){var u=n[0],s=n[1],p=n.index;if(a+=t.slice(i,p),i=p+u.length,s)a+=s[1];else{var f=t[i],h=n[2],l=n[3],d=n[4],y=n[5],v=n[6],m=n[7];a&&(r.push(a),a="");var g=null!=h&&null!=f&&f!==h,b="+"===v||"*"===v,w="?"===v||"*"===v,x=n[2]||c,$=d||y;r.push({name:l||o++,prefix:h||"",delimiter:x,optional:w,repeat:b,partial:g,asterisk:!!m,pattern:$?J($):m?".*":"[^"+D(x)+"]+?"})}}return i<t.length&&(a+=t.substr(i)),a&&r.push(a),r}function F(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function N(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var o="",i=n||{},a=(r||{}).pretty?F:encodeURIComponent,c=0;c<t.length;c++){var u=t[c];if("string"!=typeof u){var s,p=i[u.name];if(null==p){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(q(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<p.length;f++){if(s=a(p[f]),!e[c].test(s))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(s)+"`");o+=(0===f?u.prefix:u.delimiter)+s}}else{if(s=u.asterisk?encodeURI(p).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):a(p),!e[c].test(s))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+s+'"');o+=u.prefix+s}}else o+=u}return o}}function D(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function J(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function Q(t,e){return t.keys=e,t}function X(t){return t.sensitive?"":"i"}function Y(t,e,n){q(e)||(n=e||n,e=[]);for(var r=(n=n||{}).strict,o=!1!==n.end,i="",a=0;a<t.length;a++){var c=t[a];if("string"==typeof c)i+=D(c);else{var u=D(c.prefix),s="(?:"+c.pattern+")";e.push(c),c.repeat&&(s+="(?:"+u+s+")*"),i+=s=c.optional?c.partial?u+"("+s+")?":"(?:"+u+"("+s+"))?":u+"("+s+")"}}var p=D(n.delimiter||"/"),f=i.slice(-p.length)===p;return r||(i=(f?i.slice(0,-p.length):i)+"(?:"+p+"(?=$))?"),i+=o?"$":r&&f?"":"(?="+p+"|$)",Q(new RegExp("^"+i,X(n)),e)}function V(t,e,n){return q(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Q(t,e)}(t,e):q(t)?function(t,e,n){for(var r=[],o=0;o<t.length;o++)r.push(V(t[o],e,n).source);return Q(new RegExp("(?:"+r.join("|")+")",X(n)),e)}(t,e,n):function(t,e,n){return Y(B(t,n),e,n)}(t,e,n)}L.parse=U,L.compile=M,L.tokensToFunction=H,L.tokensToRegExp=I;var W=Object.create(null);function G(t,e,n){e=e||{};try{var r=W[t]||(W[t]=L.compile(t));return e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(t){return""}finally{delete e[0]}}function K(t,e,n,r){var o=e||[],i=n||Object.create(null),a=r||Object.create(null);t.forEach(function(t){!function t(e,n,r,o,i,a){var c=o.path;var u=o.name;var s=o.pathToRegexpOptions||{};var p=function(t,e,n){n||(t=t.replace(/\/$/,""));if("/"===t[0])return t;if(null==e)return t;return P(e.path+"/"+t)}(c,i,s.strict);"boolean"==typeof o.caseSensitive&&(s.sensitive=o.caseSensitive);var f={path:p,regex:Z(p,s),components:o.components||{default:o.component},instances:{},name:u,parent:i,matchAs:a,redirect:o.redirect,beforeEnter:o.beforeEnter,meta:o.meta||{},props:null==o.props?{}:o.components?o.props:{default:o.props}};o.children&&o.children.forEach(function(o){var i=a?P(a+"/"+o.path):void 0;t(e,n,r,o,f,i)});if(void 0!==o.alias){var h=Array.isArray(o.alias)?o.alias:[o.alias];h.forEach(function(a){var c={path:a,children:o.children};t(e,n,r,c,i,f.path||"/")})}n[f.path]||(e.push(f.path),n[f.path]=f);u&&(r[u]||(r[u]=f))}(o,i,a,t)});for(var c=0,u=o.length;c<u;c++)"*"===o[c]&&(o.push(o.splice(c,1)[0]),u--,c--);return{pathList:o,pathMap:i,nameMap:a}}function Z(t,e){return L(t,[],e)}function tt(t,e,n,r){var o="string"==typeof t?{path:t}:t;if(o._normalized)return o;if(o.name)return f({},t);if(!o.path&&o.params&&e){(o=f({},o))._normalized=!0;var i=f(f({},e.params),o.params);if(e.name)o.name=e.name,o.params=i;else if(e.matched.length){var a=e.matched[e.matched.length-1].path;o.path=G(a,i,e.path)}return o}var c=function(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var o=t.indexOf("?");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{path:t,query:n,hash:e}}(o.path||""),u=e&&e.path||"/",s=c.path?A(c.path,u,n||o.append):u,p=function(t,e,n){void 0===e&&(e={});var r,o=n||_;try{r=o(t||"")}catch(t){r={}}for(var i in e)r[i]=e[i];return r}(c.query,o.query,r&&r.options.parseQuery),h=o.hash||c.hash;return h&&"#"!==h.charAt(0)&&(h="#"+h),{_normalized:!0,path:s,query:p,hash:h}}function et(t,e){var n=K(t),r=n.pathList,o=n.pathMap,i=n.nameMap;function a(t,n,a){var c=tt(t,n,!1,e),s=c.name;if(s){var p=i[s];if(!p)return u(null,c);var f=p.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof c.params&&(c.params={}),n&&"object"==typeof n.params)for(var h in n.params)!(h in c.params)&&f.indexOf(h)>-1&&(c.params[h]=n.params[h]);if(p)return c.path=G(p.path,c.params),u(p,c,a)}else if(c.path){c.params={};for(var l=0;l<r.length;l++){var d=r[l],y=o[d];if(nt(y.regex,c.path,c.params))return u(y,c,a)}}return u(null,c)}function c(t,n){var r=t.redirect,o="function"==typeof r?r(k(t,n,null,e)):r;if("string"==typeof o&&(o={path:o}),!o||"object"!=typeof o)return u(null,n);var c=o,s=c.name,p=c.path,f=n.query,h=n.hash,l=n.params;if(f=c.hasOwnProperty("query")?c.query:f,h=c.hasOwnProperty("hash")?c.hash:h,l=c.hasOwnProperty("params")?c.params:l,s){i[s];return a({_normalized:!0,name:s,query:f,hash:h,params:l},void 0,n)}if(p){var d=function(t,e){return A(t,e.parent?e.parent.path:"/",!0)}(p,t);return a({_normalized:!0,path:G(d,l),query:f,hash:h},void 0,n)}return u(null,n)}function u(t,n,r){return t&&t.redirect?c(t,r||n):t&&t.matchAs?function(t,e,n){var r=a({_normalized:!0,path:G(n,e.params)});if(r){var o=r.matched,i=o[o.length-1];return e.params=r.params,u(i,e)}return u(null,e)}(0,n,t.matchAs):k(t,n,r,e)}return{match:a,addRoutes:function(t){K(t,r,o,i)}}}function nt(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var o=1,i=r.length;o<i;++o){var a=t.keys[o-1],c="string"==typeof r[o]?decodeURIComponent(r[o]):r[o];a&&(n[a.name||"pathMatch"]=c)}return!0}var rt="undefined"!=typeof window;function ot(t,e,n){var r=function(o){o>=t.length?n():t[o]?e(t[o],function(){r(o+1)}):r(o+1)};r(0)}function it(t){return function(e,n,r){var o=!1,i=0,a=null;!function(t,e){return n=t.map(function(t){return Object.keys(t.components).map(function(n){return e(t.components[n],t.instances[n],t,n)})}),Array.prototype.concat.apply([],n);var n}(t,function(t,e,n,c){if(!("function"!=typeof t||t.prototype&&t.prototype.$set)){o=!0,i++;var u,s=ct(function(e){var o;((o=e).__esModule||at&&"Module"===o[Symbol.toStringTag])&&(e=e.default),t.resolved=e,n.components[c]=e,--i<=0&&r()}),f=ct(function(t){var e="Failed to resolve async component "+c+": "+t;a||(a=p(t)?t:new Error(e),r(a))});try{u=t(s,f)}catch(t){f(t)}if(u)if("function"==typeof u.then)u.then(s,f);else{var h=u.component;h&&"function"==typeof h.then&&h.then(s,f)}}}),o||r()}}var at="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function ct(t){var e=!1;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var ut=function(t,e){this.router=t,this.base=function(t){if(!t)if(rt){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";"/"!==t.charAt(0)&&(t="/"+t);return t.replace(/\/$/,"")}(e),this.current=j,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};ut.prototype.listen=function(t){this.cb=t},ut.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},ut.prototype.onError=function(t){this.errorCbs.push(t)},ut.prototype.transitionTo=function(t,e,n){var r=this,o=this.router.match(t,this.current);this.confirmTransition(o,function(){r.updateRoute(o),e&&e(o),r.ensureURL(),r.ready||(r.ready=!0,r.readyCbs.forEach(function(t){t(o)}))},function(t){n&&n(t),t&&!r.ready&&(r.ready=!0,r.readyErrorCbs.forEach(function(e){e(t)}))})},ut.prototype.confirmTransition=function(t,e,n){var r,o,i=this,a=this.current,c=function(t){p(t)&&(i.errorCbs.length?i.errorCbs.forEach(function(e){e(t)}):console.error(t)),n&&n(t)};if(r=t,((o=a)===j?r===o:o&&(r.path&&o.path?r.path.replace(R,"")===o.path.replace(R,"")&&r.hash===o.hash&&S(r.query,o.query):r.name&&o.name&&r.name===o.name&&r.hash===o.hash&&S(r.query,o.query)&&S(r.params,o.params)))&&t.matched.length===a.matched.length)return this.ensureURL(),c();var u=function(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r&&t[n]===e[n];n++);return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}(this.current.matched,t.matched).activated,s=[].concat(this.router.beforeHooks,u.map(function(t){return t.beforeEnter}),it(u));this.pending=t;var f=function(e,n){if(i.pending!==t)return c();try{e(t,a,function(t){!1===t||p(t)?(i.ensureURL(!0),c(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(c(),"object"==typeof t&&t.replace?i.replace(t):i.push(t)):n(t)})}catch(t){c(t)}};ot(s,f,function(){ot([].concat(i.router.resolveHooks),f,function(){if(i.pending!==t)return c();i.pending=null,e(t)})})},ut.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(n){n&&n(t,e)})};var st,pt=rt&&((-1===(st=window.navigator.userAgent).indexOf("Android 2.")&&-1===st.indexOf("Android 4.0")||-1===st.indexOf("Mobile Safari")||-1!==st.indexOf("Chrome")||-1!==st.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history),ft=rt&&window.performance&&window.performance.now?window.performance:Date,ht=lt();function lt(){return ft.now().toFixed(3)}function dt(){return ht}function yt(t,e){wt();var n=window.history;try{e?n.replaceState({key:ht},"",t):(ht=lt(),n.pushState({key:ht},"",t))}catch(n){window.location[e?"replace":"assign"](t)}}function vt(t){yt(t,!0)}var mt=Object.create(null);function gt(){window.history.replaceState({key:dt()},"",window.location.href.replace(window.location.origin,"")),window.addEventListener("popstate",function(t){var e;wt(),t.state&&t.state.key&&(e=t.state.key,ht=e)})}function bt(t,e,n,r){if(t.nextTick){var o=t.options.scrollBehavior;o&&t.nextTick(function(){var i=function(){var t=dt();if(t)return mt[t]}(),a=o.call(t,e,n,r?i:null);a&&("function"==typeof a.then?a.then(function(t){Ot(t,i)}).catch(function(t){}):Ot(a,i))})}}function wt(){var t=dt();t&&(mt[t]={x:window.pageXOffset,y:window.pageYOffset})}function xt(t){return _t(t.x)||_t(t.y)}function $t(t){return{x:_t(t.x)?t.x:window.pageXOffset,y:_t(t.y)?t.y:window.pageYOffset}}function _t(t){return"number"==typeof t}function Ot(t,e){var n,r="object"==typeof t;if(r&&"string"==typeof t.selector){var o=document.querySelector(t.selector);if(o){var i=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:r.left-n.left-e.x,y:r.top-n.top-e.y}}(o,i={x:_t((n=i).x)?n.x:0,y:_t(n.y)?n.y:0})}else xt(t)&&(e=$t(t))}else r&&xt(t)&&(e=$t(t));e&&window.scrollTo(e.x,e.y)}var Rt=function(t){function e(e,n){var r=this;t.call(this,e,n);var o=e.options.scrollBehavior,i=pt&&o;i&&gt();var a=kt(this.base);window.addEventListener("popstate",function(t){var n=r.current,o=kt(r.base);r.current===j&&o===a||r.transitionTo(o,function(t){i&&bt(e,t,n,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,o=this.current;this.transitionTo(t,function(t){yt(P(r.base+t.fullPath)),bt(r.router,t,o,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this,o=this.current;this.transitionTo(t,function(t){vt(P(r.base+t.fullPath)),bt(r.router,t,o,!1),e&&e(t)},n)},e.prototype.ensureURL=function(t){if(kt(this.base)!==this.current.fullPath){var e=P(this.base+this.current.fullPath);t?yt(e):vt(e)}},e.prototype.getCurrentLocation=function(){return kt(this.base)},e}(ut);function kt(t){var e=decodeURI(window.location.pathname);return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var Ct=function(t){function e(e,n,r){t.call(this,e,n),r&&function(t){var e=kt(t);if(!/^\/#/.test(e))return window.location.replace(P(t+"/#"+e)),!0}(this.base)||jt()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router.options.scrollBehavior,n=pt&&e;n&&gt(),window.addEventListener(pt?"popstate":"hashchange",function(){var e=t.current;jt()&&t.transitionTo(Et(),function(r){n&&bt(t.router,r,e,!0),pt||At(r.fullPath)})})},e.prototype.push=function(t,e,n){var r=this,o=this.current;this.transitionTo(t,function(t){St(t.fullPath),bt(r.router,t,o,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this,o=this.current;this.transitionTo(t,function(t){At(t.fullPath),bt(r.router,t,o,!1),e&&e(t)},n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;Et()!==e&&(t?St(e):At(e))},e.prototype.getCurrentLocation=function(){return Et()},e}(ut);function jt(){var t=Et();return"/"===t.charAt(0)||(At("/"+t),!1)}function Et(){var t=window.location.href,e=t.indexOf("#");if(e<0)return"";var n=(t=t.slice(e+1)).indexOf("?");if(n<0){var r=t.indexOf("#");t=r>-1?decodeURI(t.slice(0,r))+t.slice(r):decodeURI(t)}else n>-1&&(t=decodeURI(t.slice(0,n))+t.slice(n));return t}function Tt(t){var e=window.location.href,n=e.indexOf("#");return(n>=0?e.slice(0,n):e)+"#"+t}function St(t){pt?yt(Tt(t)):window.location.hash=t}function At(t){pt?vt(Tt(t)):window.location.replace(Tt(t))}var Pt=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)},n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,function(){e.index=n,e.updateRoute(r)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(ut),qt=function(t){var e=this;void 0===t&&(t={}),this.nextTick=null,this.listeners=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=et(t.routes||[],this),this.init(),this.history.listen(function(t){e.listeners.forEach(function(e){return e(t)})})},Lt={currentRoute:{configurable:!0}};function Ut(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}qt.prototype.listen=function(t){var e=this;return this.listeners.push(t),function(){e.listeners.splice(e.listeners.indexOf(t),1)}},qt.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},Lt.currentRoute.get=function(){return this.history&&this.history.current},qt.prototype.beforeEach=function(t){return Ut(this.beforeHooks,t)},qt.prototype.beforeResolve=function(t){return Ut(this.resolveHooks,t)},qt.prototype.afterEach=function(t){return Ut(this.afterHooks,t)},qt.prototype.onReady=function(t,e){this.history.onReady(t,e)},qt.prototype.onError=function(t){this.history.onError(t)},qt.prototype.push=function(t,e,n){this.history.push(t,e,n)},qt.prototype.replace=function(t,e,n){this.history.replace(t,e,n)},qt.prototype.go=function(t){this.history.go(t)},qt.prototype.back=function(){this.go(-1)},qt.prototype.forward=function(){this.go(1)},qt.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},qt.prototype.resolve=function(t,e,n){var r=tt(t,e=e||this.history.current,n,this),o=this.match(r,e),i=o.redirectedFrom||o.fullPath;return{location:r,route:o,href:function(t,e,n){var r="hash"===n?"#"+e:e;return t?P(t+"/"+r):r}(this.history.base,i,this.mode),normalizedTo:r,resolved:o}},qt.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==j&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(qt.prototype,Lt),qt.version="0.1.0";var Mt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.init=function(){this.mode="history",this.history=new Rt(this,this.options.base),this.history.transitionTo(this.history.getCurrentLocation())},e}(qt),Ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.init=function(){this.mode="hash";var t=this.history=new Ct(this,this.options.base,!!this.options.fallback),e=function(){t.setupListeners()};t.transitionTo(t.getCurrentLocation(),e,e)},e}(qt),It=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.init=function(){this.mode="abstract",this.history=new Pt(this,this.options.base)},e}(qt);t.RouterProvider=s,t.RouterView=d,t.RouterLink=m,t.HistoryRouter=Mt,t.HashRouter=Ht,t.AbstractRouter=It,t.router=o,t.getRouter=function(){return e.getContext(o)},t.setRouter=function(t){return e.setContext(o,t)},t.route=i,t.getRoute=function(){return e.getContext(i)},t.setRoute=function(t){return e.setContext(i,t)},t.matched=a,t.getMatched=function(){return e.getContext(a)},t.setMatched=function(t){return e.setContext(a,t)},Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("svelte"),require("svelte/internal"),require("svelte/store")):"function"==typeof define&&define.amd?define(["exports","svelte","svelte/internal","svelte/store"],e):e(t.SvelteRouter={},t.svelte,t.internal,t.store);